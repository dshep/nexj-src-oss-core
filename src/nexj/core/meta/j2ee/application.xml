<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2010 NexJ Systems Inc. This software is licensed under the terms of the Eclipse Public License 1.0 -->

<application id="application" version="1.4"
   xmlns="http://java.sun.com/xml/ns/j2ee"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/application_1_4.xsd">
   <display-name>nexj-${environment}</display-name>
   ${ifmodule:connector:
      ${ifcontainer:!generic:
         <module>
            <connector>nexj-pool.rar</connector>
         </module>
      }
      <module>
         <connector>nexj-jms.rar</connector>
      </module>
      <module>
         <connector>nexj-mail.rar</connector>
      </module>
      <module>
         <connector>nexj-sql.rar</connector>
      </module>
      <module>
         <connector>nexj-tcp.rar</connector>
      </module>
      <module>
         <connector>nexj-file.rar</connector>
      </module>
      <module>
         <connector>nexj-queueing.rar</connector>
      </module>
   }
   ${ifmodule:ejb:
      <module>
         <ejb>nexj-ejb.jar</ejb>
      </module>
   }
   ${ifmodule:web:
      <module>
         <web>
            <web-uri>nexj-web.war</web-uri>
            <context-root>${context-root}</context-root>
         </web>
      </module>
      <module>
         <web>
            <web-uri>nexj-web-cert.war</web-uri>
            <context-root>${context-root}/cert</context-root>
         </web>
      </module>
      <module>
         <web>
            <web-uri>nexj-web-anon.war</web-uri>
            <context-root>${context-root:anon}</context-root>
         </web>
      </module>
      ${ifenterprise:
         <module>
            <web>
               <web-uri>nexj-web-form.war</web-uri>
               <context-root>${context-root:form}</context-root>
            </web>
         </module>
      }
   }
   ${ifcontainer:generic:
      <module>
         <web>
            <web-uri>nexj-push.war</web-uri>
            <context-root>${context-root:push}</context-root>
         </web>
      </module>
   }
   <security-role id="securityRole-user">
      <role-name>nexjusers</role-name>
   </security-role>
</application>
